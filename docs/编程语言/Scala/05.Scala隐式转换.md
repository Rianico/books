---
title: Scala隐式转换
date: 2020-05-26 17:06:05
---
# Scala隐式转换

隐式转换可以对类的功能进行拓展，通常可以用于扩展第三方类的方法（如添加show\(\)展示元素），而**无需派生（extends、with等）出新的类型**。

 以拓展String类型为例，将String作为入参（其他类型同理），通常使用隐式扩展功能，要么返回一个已定义的class（spark源码使用的方式），要么隐式定义一个新的class，如下：

```scala
object Solution1 {

  class RichString(str: String) {
    def read() = {
      println(str + "_fun")
    }
  }

  object Context {
    // 返回一个已定义的class
    implicit def fun(str: String) = new RichString(str)
    // 新定义一个class
    implicit class myString(str: String) {
      def read2() = {
        println(str + "_class")
      }
    }
  }

  def main(args: Array[String]): Unit = {
    import Context._

    "".read()
    "".read2()
  }

}

// 输出：
_fun
_class
```

隐式转换函数在同个作用域下，与名字无关，与入参类型有关。

