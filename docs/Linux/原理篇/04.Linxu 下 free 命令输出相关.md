---
title: Linxu 下 free 命令输出相关
date: 2020-07-23 09:51:44
---
# Linxu下free命令输出相关

使用free查看内存情况：

```bash
$ free -h
             total       used       free     shared    buffers     cached
Mem:           252        249          2          0          0        158
-/+ buffers/cache:         91        160 
Swap:          124          0        124 
```

**从操作系统\(Mem\)出发：** 

1. **Mem.total = Mem.used + Mem.free**
2. **used**：包含了 buffers 以及 cached
3. **buffers**：表示被系统 buffer 的内存，主要用于存放要输出到 disk 的数据。
4. **cached**：表示被系统 cahce 的内存，主要用于存放从 disk 读取的数据。
5. buffer 跟 cache 都是为了提高系统 I/O 性能。

**从程序角度\(-/+ buffers/cache\)出发：**

1. **used**：表示应用程序认为已经使用了多少内存，不包含 buffers 以及 cached，且 **(-/+buffer/cache).used=Mem.used-Mem.buffer-Mem.cache**。
2. **free**：表示应用程序认为系统还有多少内存，由于 buffers 以及 cached 都可以被系统快速回收，因此算在 free 里。**(-/+buffer/cache).free = Mem.free + Mem.buffers + Mem.cached**。

大致布局如下：



![Linux内存布局](https://raw.githubusercontent.com/Rianico/Image/master/ARTS_Tips/Linux%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80.png)

