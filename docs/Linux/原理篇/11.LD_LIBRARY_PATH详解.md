---
title: LD_LIBRARY_PATH 详解
date: 2021-02-19
---

`LD_LIBRARY_PATH` 是 Linux 的一个环境变量名，用于指定动态链接库的路径。

程序运行时如果需要用到一些库文件，会按照顺序从以下路径查找：

1. `LD_LIBRARY_PATH` 指定的路径。
2. `/etc/ld.so.conf` 列出的路径。
3. /lib
4. /usr/lib

其中第二、三、四点都只有 root 用户才有权限进行操作，因此一种更加通用的方式是在 `LD_LIBRARY_PATH` 中添加需要的路径，例如：

```bash
LD_LIBRARY_PATH=LD_LIBRARY_PATH:/opt/cloudera/parcels/HADOOP_LZO/lib/hadoop/lib/native:/opt/cloudera/parcels/CDH/lib/hadoop/lib/native/
```

值得一提的是，`LIBRARY_PATH` 是 gcc 的一个环境变量，gcc 在编译前会根据这个参数去搜索动态链接库，且优先于 `LD_LIBRARY_PATH`。