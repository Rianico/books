---
title:  rm 操作的一些注意事项
date: 2020-07-23 09:55:09
---
# rm 操作的一些注意事项

[写了个Bug，误执行rm -fr /\*，瞬间背后一凉！](https://mp.weixin.qq.com/s/cuGszeKUxoYlpf3qt2vuWg)

根据这篇文章，可以得出在执行 rm 操作时，有一些技巧可以防止误删：

1. 执行 rm 前判断路径变量是否为空。
2. 在脚本开头添加 `set -u` ，一旦脚本某个变量为空便会自动终止执行脚本。
3. 使用 safe-rm 软件替代 rm，支持添加路径黑名单机制。
4. 建立回收站机制，自行编写脚本替换 rm，脚本执行 mv 移动删除内容到回收站路径。

