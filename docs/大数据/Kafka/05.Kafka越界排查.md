---
title: Kafka 越界排查
date: 2020-05-26 17:06:04
---
# Kafka 越界排查

Kafka查看消费者是否越界： 

1. 首先列出topic对应consumer group的当前offset及其最新可消费的offset。

```bash
kafka-run-class kafka.tools.ConsumerOffsetChecker --zookeeper zkhost:port --topic topic_name --group topic_name_group
```

2. 再列出topic的最早offset。

```bash
kafka-run-class kafka.tools.GetOffsetShell --topic topic_name --time -2 --broker-list kafkahost:port
```

3. 使用excel对partition排序，就能确认消费者消费的offset是向前还是向后越界。

