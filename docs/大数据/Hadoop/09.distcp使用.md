---
title: 09. distcp 使用
date: 2021-05-12
---

## Kerberos 向非 Kerberos 集群传输数据

- 添加 `ipc.client.fallback-to-simple-auth-allowed=true` 允许服务端请求回退到非安全的 SIMPLE 模式，否则会报错：**java.io.IOException: Server asks us to fall back to SIMPLE auth, but this client is configured to only allow secure connections.** 
- -pbc，跳过两边 block size 检查

```bash
hadoop distcp -D ipc.client.fallback-to-simple-auth-allowed=true -pbc hdfs://safe_cluster:8020/data   hdfs://unsafe_cluster:8020/data
```

