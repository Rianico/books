(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{766:function(s,a,n){"use strict";n.r(a);var t=n(70),e=Object(t.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"nmcli-网络管理工具"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#nmcli-网络管理工具"}},[s._v("#")]),s._v(" nmcli 网络管理工具")]),s._v(" "),n("p",[s._v("nmcli 是 NetworkManager 的一个命令行工具，它提供了使用命令行配置由 NetworkManager 管理网络连接的方法。使用 nmcli 的好处是即使在系统启动后，路由规则也能保留。")]),s._v(" "),n("p",[s._v("nmcli 命令的基本格式为：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("Usage: nmcli "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" OBJECT "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" COMMAND "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\nOPTIONS\n  -a, --ask                                ask "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" missing parameters\n  -c, --colors auto"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("no                 whether to use colors "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" output\n  -e, --escape "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("no                      escape columns separators "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" values\n  -f, --fields "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("field,"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">|")]),s._v("all"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("common      specify fields to output\n  -g, --get-values "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("field,"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">|")]),s._v("all"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("common  shortcut "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" -m tabular -t -f\n  -h, --help                               print this "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),s._v("\n  -m, --mode tabular"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("multiline             output mode\n  -o, --overview                           overview mode\n  -p, --pretty                             pretty output\n  -s, --show-secrets                       allow displaying passwords\n  -t, --terse                              terse output\n  -v, --version                            show program version\n  -w, --wait "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("seconds"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("                     "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("timeout")]),s._v(" waiting "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" finishing operations\n\nOBJECT\n  g"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("eneral"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("       NetworkManager"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s general status and operations\n  n[etworking]    overall networking control\n  r[adio]         NetworkManager radio switches\n  c[onnection]    NetworkManager'")]),s._v("s connections\n  d"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("evice"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("        devices managed by NetworkManager\n  a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("         NetworkManager secret agent or polkit agent\n  m"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("onitor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("       monitor NetworkManager changes\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br")])]),n("ol",[n("li",[n("p",[s._v("启动/关闭网卡：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("nmcli c down enp189s0f0 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" nmcli c up enp189s0f0\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("添加路由：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("nmcli c mod enp189s0f0 +ipv4.routes "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"192.167.0.0/16 192.168.0.1"')]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("设置网卡 IP：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("nmcli c mod enp189s0f0 ipv4.addresses "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"192.168.1.4/24"')]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("设置网卡 gateway")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("nmcli con mod enp189s0f0 ipv4.gateway "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"192.168.0.1"')]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("设置网卡 IP 设置方式为手动（from dhcp to static）：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("nmcli con mod enp189s0f0 ipv4.method manual\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("设置网卡 DNS：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("nmcli con mod enp189s0f0 ipv4.dns "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"8.8.8.8"')]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])])]),s._v(" "),n("p",[s._v("设置完成记得重启相应网卡设备。")])])}),[],!1,null,null,null);a.default=e.exports}}]);