(window.webpackJsonp=window.webpackJsonp||[]).push([[156],{879:function(s,t,e){"use strict";e.r(t);var a=e(70),n=Object(a.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"hive-benchmark-使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#hive-benchmark-使用"}},[s._v("#")]),s._v(" hive-benchmark 使用")]),s._v(" "),e("h2",{attrs:{id:"_1-简介"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-简介"}},[s._v("#")]),s._v(" 1. 简介")]),s._v(" "),e("p",[s._v("hive-testbench 属于 HDP 出品，是一个用于 Hive 测试的数据生成工具，可以简单地测试 Hive 在大数据集下的性能表现。")]),s._v(" "),e("p",[s._v("项目地址：https://github.com/hortonworks/hive-testbench。")]),s._v(" "),e("p",[s._v("要求集群安装 Hadoop 2.2 以上 和 Hive。")]),s._v(" "),e("h2",{attrs:{id:"_2-使用方式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-使用方式"}},[s._v("#")]),s._v(" 2. 使用方式")]),s._v(" "),e("p",[s._v("首先拉取并编译项目：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 拉取项目")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /opt/install/\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://github.com/hortonworks/hive-testbench.git\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切换为 hdp3 分支")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout hdp3\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 编译项目")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /opt/install/hive-testbench\n./tpcds-build.sh\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])]),e("p",[s._v("修改目录文件所有者为 hdfs："),e("code",[s._v("chown -R hdfs:hadoop /opt/install/hive-testbench")])]),s._v(" "),e("p",[s._v("生成数据的语法格式为："),e("code",[s._v("tpcds-setup.sh scale_factor [directory]")]),s._v("。其中 "),e("code",[s._v("scale_factor")]),s._v(" 的单位为 GB，"),e("code",[s._v("[directory]")]),s._v(" 为 hdfs 上的路径，不指定则默认路径为 "),e("code",[s._v("/tmp/tpcds-generate/{scale_factor}")]),s._v("。")]),s._v(" "),e("p",[s._v("使用 hdfs 用户生成 50 GB 测试数据："),e("code",[s._v("sudo -u hdfs ./tpcds-setup.sh 50")]),s._v("，同时还会生成各种库表，数据库为 "),e("code",[s._v("tpcds_bin_partitioned_orc_50")]),s._v("、"),e("code",[s._v("tpcds_text_500")]),s._v("。")])])}),[],!1,null,null,null);t.default=n.exports}}]);